(this["webpackJsonppoke-react"]=this["webpackJsonppoke-react"]||[]).push([[0],{14:function(e,t,n){e.exports={pokemonType:"PokemonDetail_pokemonType__1NnrX",bug:"PokemonDetail_bug__1CLnM PokemonDetail_pokemonType__1NnrX",dark:"PokemonDetail_dark__3BnVw PokemonDetail_pokemonType__1NnrX",dragon:"PokemonDetail_dragon__2gL9h PokemonDetail_pokemonType__1NnrX",electric:"PokemonDetail_electric__1wgnF PokemonDetail_pokemonType__1NnrX",fairy:"PokemonDetail_fairy__1uFne PokemonDetail_pokemonType__1NnrX",fighting:"PokemonDetail_fighting__2JH9U PokemonDetail_pokemonType__1NnrX",fire:"PokemonDetail_fire__1QREM PokemonDetail_pokemonType__1NnrX",flying:"PokemonDetail_flying__3P1HK PokemonDetail_pokemonType__1NnrX",ghost:"PokemonDetail_ghost__3G1n1 PokemonDetail_pokemonType__1NnrX",grass:"PokemonDetail_grass__2ihMG PokemonDetail_pokemonType__1NnrX",ground:"PokemonDetail_ground__3I1mm PokemonDetail_pokemonType__1NnrX",ice:"PokemonDetail_ice__2l8ko PokemonDetail_pokemonType__1NnrX",normal:"PokemonDetail_normal__2Fi7n PokemonDetail_pokemonType__1NnrX",poison:"PokemonDetail_poison__1PWDI PokemonDetail_pokemonType__1NnrX",psychic:"PokemonDetail_psychic__2LdhM PokemonDetail_pokemonType__1NnrX",rock:"PokemonDetail_rock__2TZQM PokemonDetail_pokemonType__1NnrX",steel:"PokemonDetail_steel__dL18A PokemonDetail_pokemonType__1NnrX",water:"PokemonDetail_water__X6uKu PokemonDetail_pokemonType__1NnrX",width:"PokemonDetail_width__3G8G6",tableFit:"PokemonDetail_tableFit__2yDwY"}},29:function(e,t,n){e.exports={PokemonCard:"PokemonCard_PokemonCard__24R03",NoStyle:"PokemonCard_NoStyle__2Mdta",NoLink:"PokemonCard_NoLink__1qusg"}},40:function(e,t,n){},43:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var s=n(2),c=n(3),a=n.n(c),r=n(32),i=n.n(r),o=(n(40),n(41),n(18)),l=n.n(o),d=n(23),j=n(8),b=(n(43),n(15)),p=n(7),h=n(19),u=a.a.createContext();var m=function(){return Object(s.jsx)(b.a,{children:Object(s.jsx)("div",{children:Object(s.jsxs)("nav",{class:"navbar navbar-dark bg-dark",children:[Object(s.jsx)(b.b,{as:"Link",class:"navbar-brand",to:"/",children:"Pokemon"}),Object(s.jsx)(b.b,{as:"Link",class:"navbar-brand",to:"/pokebox",children:"Pokebox"})]})})})},x=n(34),O=n(14),f=n.n(O),k=n(29),_=n.n(k);var g=function(e){var t=e.name,n=e.url,c=e.pokeID,r=e.cardLink,i=a.a.useState(!0),o=Object(j.a)(i,2),l=o[0],d=o[1];return Object(s.jsx)(b.b,{class:r?_.a.NoStyle:_.a.NoLink,to:r,children:Object(s.jsxs)("div",{class:"card",children:[Object(s.jsxs)("div",{class:"card-header text-left",children:["Pokemon No. : ",c]}),l?Object(s.jsx)("div",{class:"text-center",children:Object(s.jsx)("div",{class:"spinner-border",role:"status",children:Object(s.jsx)("span",{class:"sr-only",children:"Loading..."})})}):"",Object(s.jsx)("img",{class:"card-img-top bg-secondary",src:n,alt:"Pokemon Sprite",onLoad:function(){d(!1)}}),Object(s.jsx)("div",{class:"card-body",children:Object(s.jsx)("h5",{class:"card-title",children:t})})]})})};h.a.initializeApp({apiKey:"AIzaSyCsfSkxfxJsJ2mY2tWPshZXxbMSQxjDXrc",authDomain:"poke-react-968d2.firebaseapp.com",databaseURL:"https://poke-react-968d2.firebaseio.com",projectId:"poke-react-968d2",storageBucket:"poke-react-968d2.appspot.com",messagingSenderId:"105179896175",appId:"1:105179896175:web:ac9b42aa3705382e0cb09a",measurementId:"G-94S6NB320F"}),h.a.analytics();var v=h.a;n(52);var P=function(e){e.type;var t=e.isShow,n=e.functionHandler,c=a.a.useState(null),r=Object(j.a)(c,2),i=r[0],o=r[1];return Object(s.jsx)("div",{class:"container ",children:Object(s.jsx)("div",{class:"modal "+(t?"display-block":"display-none"),children:Object(s.jsx)("div",{class:"card modal-main",children:Object(s.jsxs)("div",{class:"m-2 justify-content-center",children:[Object(s.jsx)("div",{children:" Succeed! Now Enter your pokemon name"}),Object(s.jsx)("input",{class:"form-control mb-2",placeholder:"Input pokemon name","aria-label":"Pokemon name",onChange:function(e){return o(e.target.value)}}),Object(s.jsx)("button",{type:"button",class:"mr-2 btn btn-success",onClick:function(){return n.catchPokemon(i)},children:"Save"}),Object(s.jsx)("button",{type:"button",class:"btn btn-danger",onClick:function(){return n.setIsShown(!t)},children:"Release"})]})})})})};var y=function(e){var t,n=e.isOwnedPokemonDetail,c=v.database(),r=a.a.useState(null),i=Object(j.a)(r,2),o=i[0],b=i[1],h=a.a.useState(!1),m=Object(j.a)(h,2),O=m[0],k=m[1],_=a.a.useContext(u),y=Object(p.g)().id,D=Object(p.f)(),w="https://pokeapi.co/api/v2/pokemon/";function S(e){return e.charAt(0).toUpperCase()+e.slice(1)}function N(e){var t=e.split("-");return t.map((function(e,n){return t[n]=S(e)})),t.join(" ")}if(n&&_.persistData.map((function(e){e.id===y&&(t=e)})),a.a.useEffect((function(){var e=w+(t?t.pokeId:y);(function(){var e=Object(d.a)(l.a.mark((function e(t){var n,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.ok?e:Promise.reject(n)})).catch((function(e){console.warn("API '"+t+"' "+e+" .")}));case 2:return n=e.sent,e.next=5,n.json();case 5:return s=e.sent,e.next=8,fetch(s.species.url).then((function(e){return e.ok?e:Promise.reject(c)})).catch((function(e){console.warn("API '"+s.species.url+"' "+e+" .")}));case 8:return c=e.sent,e.next=11,c.json();case 11:s.species.detail=e.sent,s.species.detail.flavor_text_entries.some((function(e){"en"===e.language.name&&(s.species.description=e.flavor_text.replace(/\s\\.|\\.\s/g," ").replace(/\\./g,"s"))})),b(s);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(e)}),[t]),!o)return Object(s.jsx)("div",{children:"Loading..."});var C={hp:o.stats.filter((function(e){return"hp"===e.stat.name}))[0].base_stat,attack:o.stats.filter((function(e){return"attack"===e.stat.name}))[0].base_stat,defense:o.stats.filter((function(e){return"defense"===e.stat.name}))[0].base_stat,special_attack:o.stats.filter((function(e){return"special-attack"===e.stat.name}))[0].base_stat,spesial_defense:o.stats.filter((function(e){return"special-defense"===e.stat.name}))[0].base_stat,speed:o.stats.filter((function(e){return"speed"===e.stat.name}))[0].base_stat};return Object(s.jsxs)("div",{class:"card mt-4 mb-5",children:[Object(s.jsx)(P,{isShow:O,functionHandler:{setIsShown:k,catchPokemon:function(e){if(_.persistData.filter((function(t){return t.name.toLowerCase()===e.toLowerCase()})).length>0)console.log(_.persistData.filter((function(t){return t.name.toLowerCase()===e.toLowerCase()})),e),alert("Name already exist!");else{var t={id:c.ref("pokemon_collections").push().key,pokeId:y,name:e,url:w+y+"/"};c.ref("pokemon_collections").child(t.id).set(t);var n=_.persistData.concat(t);_.setPersistData(n),k(!O)}}},type:n?"release":"catch"}),Object(s.jsxs)("div",{class:"card-group mt-4",children:[Object(s.jsxs)("div",{class:"col-md-3",children:[Object(s.jsx)(g,{pokeID:n?t.pokeId:y,url:o.sprites.front_default,name:S(n?t.name:o.name),cardLink:!1}),Object(s.jsxs)("div",{class:"mt-2 mb-2 align-middle",children:[n?"":Object(s.jsx)("button",{type:"button",class:"btn btn-block btn-success",onClick:function(){return Math.random()<=.5?alert("Failed, please try again"):k(!0)},children:"Catch?"}),n?Object(s.jsx)("button",{type:"button",class:"mt-2  btn btn-block btn-danger",onClick:function(){return function(e){c.ref("pokemon_collections").child(e).remove();var t=_.persistData.filter((function(t){return t.id!==e}));_.setPersistData(t),D.push("/pokebox")}(y)},children:"Release?"}):""]})]}),Object(s.jsx)("div",{class:"col-md-9 text-left table-responsive",children:Object(s.jsxs)("table",{class:"table  ",children:[Object(s.jsx)("thead",{children:Object(s.jsx)("tr",{children:Object(s.jsx)("th",{scope:"col",colSpan:"2",children:"Pokemon Data"})})}),Object(s.jsxs)("tbody",{children:[Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",class:"align-middle",children:"Type"}),Object(s.jsx)("td",{class:"align-middle",children:Object(s.jsx)("div",{class:"container",children:o.types.map((function(e){return Object(s.jsx)("span",{class:"badges badge-pill mr-1 "+f.a[e.type.name],children:S(e.type.name)})}))})})]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",class:"align-middle",children:"Species"}),Object(s.jsxs)("td",{class:f.a.width,children:[Object(s.jsx)("tr",{children:Object(s.jsx)("strong",{children:Object(s.jsx)("u",{children:S(o.species.name)})})}),Object(s.jsx)("tr",{children:o.species.description})]})]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",class:"align-middle",children:"Abilities"}),Object(s.jsx)("td",{class:"align-middle",children:Object(s.jsx)("ul",{children:o.abilities.map((function(e){return Object(s.jsxs)("li",{children:[" ",N(e.ability.name)," "]})}))})})]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",class:"align-middle",children:"Games"}),Object(s.jsx)("td",{children:o.game_indices.map((function(e,t){return Object(s.jsxs)("span",{children:[N(e.version.name),t!==o.game_indices.length-1?",":""," "]})}))})]})]})]})}),Object(s.jsx)("div",{class:"col-md-4 text-left table-responsive",children:Object(s.jsxs)("table",{class:"table ",children:[Object(s.jsx)("thead",{children:Object(s.jsx)("tr",{children:Object(s.jsx)("th",{scope:"col",class:"col-auto",colSpan:"2",children:"Pokemon Stats"})})}),Object(s.jsxs)("tbody",{children:[Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",class:"align-middle",children:"HP"}),Object(s.jsx)("td",{class:"align-middle",children:Object(s.jsx)("div",{class:"progress",children:Object(s.jsx)("div",{class:"progress-bar",role:"progressbar",style:{width:C.hp+"%"},children:Object(s.jsx)("small",{children:C.hp})})})})]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",class:"align-middle "+f.a.tableFit,children:"Attack"}),Object(s.jsx)("td",{class:"align-middle",children:Object(s.jsx)("div",{class:"progress",children:Object(s.jsx)("div",{class:"progress-bar",role:"progressbar",style:{width:C.attack+"%"},children:Object(s.jsx)("small",{children:C.attack})})})})]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",class:"align-middle "+f.a.tableFit,children:"Defense"}),Object(s.jsx)("td",{class:"align-middle",children:Object(s.jsx)("div",{class:"progress",children:Object(s.jsx)("div",{class:"progress-bar",role:"progressbar",style:{width:C.defense+"%"},children:Object(s.jsx)("small",{children:C.defense})})})})]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",class:"align-middle "+f.a.tableFit,children:"Special Attack"}),Object(s.jsx)("td",{class:"align-middle",children:Object(s.jsx)("div",{class:"progress",children:Object(s.jsx)("div",{class:"progress-bar",role:"progressbar",style:{width:C.special_attack+"%"},children:Object(s.jsx)("small",{children:C.special_attack})})})})]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",class:"align-middle "+f.a.tableFit,children:"Special Defense"}),Object(s.jsx)("td",{class:"align-middle",children:Object(s.jsx)("div",{class:"progress",children:Object(s.jsx)("div",{class:"progress-bar",role:"progressbar",style:{width:C.spesial_defense+"%"},children:Object(s.jsx)("small",{children:C.spesial_defense})})})})]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",class:"align-middle "+f.a.tableFit,children:"Speed"}),Object(s.jsx)("td",{class:"align-middle",children:Object(s.jsx)("div",{class:"progress",children:Object(s.jsx)("div",{class:"progress-bar",role:"progressbar",style:{width:C.speed+"%"},children:Object(s.jsx)("small",{children:C.speed})})})})]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",class:"align-middle "+f.a.tableFit,children:"Total"}),Object(s.jsx)("td",{class:"align-middle",children:Object(s.jsx)("div",{children:function(e){var t=0;for(var n in e)t+=e[n];return t}(C)})})]})]})]})}),Object(s.jsx)("div",{class:"col-md-8 text-left",children:Object(s.jsxs)("table",{class:"table  ",children:[Object(s.jsx)("thead",{children:Object(s.jsx)("tr",{children:Object(s.jsx)("th",{scope:"col",colSpan:"2",children:"Pokemon Data"})})}),Object(s.jsxs)("tbody",{children:[Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",class:"align-middle",children:"Move"}),Object(s.jsx)("td",{class:"align-middle",children:Object(s.jsx)("strong",{children:"Game Groups"})})]}),o.moves.map((function(e){var t=e.version_group_details.map((function(e){return e.version_group.name})),n=Object(x.a)(new Set(t));return Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",class:"align-middle",children:N(e.move.name)}),Object(s.jsx)("td",{class:f.a.width,children:Object(s.jsx)("tr",{children:n.map((function(e,t){return Object(s.jsxs)("span",{children:[N(e),t!==n.length-1?",":""," "]})}))})})]})}))]})]})})]})]})};var D=function(e){var t=e.limit,n=e.total,c=e.functionHandler,r=a.a.useState(Math.ceil(n/t)),i=Object(j.a)(r,2),o=i[0],l=i[1],d=a.a.useState(1),b=Object(j.a)(d,2),p=b[0],h=b[1],u=a.a.useState([]),m=Object(j.a)(u,2),x=m[0],O=m[1];function f(e){h(e),c.setPage(e)}return a.a.useEffect((function(){l(Math.ceil(n/t))}),[n,t]),a.a.useEffect((function(){var e=[];if(o<=5)for(var t=1;t<=o;t++)e.push(t);else if(p<=3){for(var n=1;n<=p+2;n++)e.push(n);e.push("..."),e.push(o)}else if(p>=o-3){e.push(1),e.push("...");for(var s=p-2;s<=o;s++)e.push(s)}else{e.push(1),e.push("...");for(var c=p-2;c<=p+2;c++)e.push(c);e.push("..."),e.push(o)}O(e),window.scrollTo(0,0)}),[p,o,n,t]),Object(s.jsx)("div",{children:Object(s.jsxs)("ul",{class:"pagination justify-content-center",children:[1!==p&&Object(s.jsx)("li",{class:"page-item",children:Object(s.jsx)("span",{class:"page-link",onClick:function(){return f(p-1)},children:"Previous"})}),x.map((function(e){return Object(s.jsx)("li",{class:"page-item ".concat(e===p?"active":""),children:Object(s.jsx)("span",{class:"page-link",onClick:function(){if(!isNaN(e))return f(e)},children:e})})})),p!==o&&Object(s.jsx)("li",{class:"page-item",children:Object(s.jsx)("span",{class:"page-link",onClick:function(){return f(p+1)},children:"Next"})})]})})};var w=function(e){var t=e.searchFilter;return Object(s.jsx)("div",{class:"d-flex justify-content-center align-items-center container",children:Object(s.jsx)("div",{class:"row mb-4 mt-4",children:Object(s.jsx)("form",{class:"form-inline",children:Object(s.jsx)("div",{class:"row justify-content-center",children:Object(s.jsx)("input",{class:"form-control mr-sm-2",type:"search",placeholder:"Search","aria-label":"Search",onChange:function(e){t(e.target.value)}})})})})})};var S=function(e){var t=e.data,n=e.isOwnedPokemon,c=a.a.useState(t),r=Object(j.a)(c,2),i=r[0],o=r[1],l=a.a.useState(20),d=Object(j.a)(l,2),b=d[0],p=(d[1],a.a.useState(i.slice(0,b))),h=Object(j.a)(p,2),u=h[0],m=h[1],x=a.a.useState(0),O=Object(j.a)(x,2),f=O[0],k=O[1],_=a.a.useState(b),v=Object(j.a)(_,2),P=v[0],y=v[1];return a.a.useEffect((function(){o(t)}),[t]),a.a.useEffect((function(){P>i.length?m(i.slice(i.length-P)):m(i.slice(f,P))}),[f,P,i]),void 0===u||0===u.length?Object(s.jsx)("div",{}):Object(s.jsxs)("div",{children:[Object(s.jsx)(w,{searchFilter:function(e){if(e.length>0){var n=t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));o(n)}else o(t)}}),Object(s.jsx)("div",{class:"card-group",children:u.map((function(e){var t=e.url.split("/").slice(-2).reverse().pop(),c="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/"+t+".png",a=e.name.charAt(0).toUpperCase()+e.name.slice(1),r=n?"/pokebox/"+e.id:"/pokemon/"+t;return Object(s.jsx)("div",{class:"col-md-3 col-sm-6 mb-5",children:Object(s.jsx)(g,{pokeID:t,url:c,name:a,cardLink:r})})}))}),Object(s.jsx)(D,{total:i.length,limit:b,functionHandler:{setPage:function(e){k((e-1)*b),y(e*b)}}})]})};var N=function(){var e=a.a.useContext(u);return Object(s.jsx)("div",{children:Object(s.jsx)(S,{data:e.persistData,isOwnedPokemon:!0})})};var C=function(){var e=a.a.useState(null),t=Object(j.a)(e,2),n=t[0],c=t[1],r=a.a.useState([]),i=Object(j.a)(r,2),o=i[0],x=i[1];a.a.useEffect((function(){(function(){var e=Object(d.a)(l.a.mark((function e(t){var n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.ok?e:Promise.reject(n)})).catch((function(e){console.warn("API '"+t+"' "+e+" .")}));case 2:return n=e.sent,e.next=5,n.json();case 5:s=e.sent,c(s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()("https://pokeapi.co/api/v2/pokemon?limit=1000000&offset=0")}),[]);var O=h.a.database();if(a.a.useEffect((function(){O.ref("pokemon_collections").once("value",(function(e){var t=[];e.forEach((function(e){t.push(e.val())})),x(t)}))}),[O]),n){var f={apiData:n,persistData:o,setPersistData:x};return Object(s.jsx)(b.a,{children:Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(m,{}),Object(s.jsx)(p.c,{children:Object(s.jsxs)(u.Provider,{value:f,children:[Object(s.jsx)(p.a,{exact:!0,path:"/",children:Object(s.jsx)(S,{data:n.results})}),Object(s.jsx)(p.a,{exact:!0,path:"/pokemon/:id",children:Object(s.jsx)(y,{})}),Object(s.jsx)(p.a,{exact:!0,path:"/pokebox/",children:Object(s.jsx)(N,{})}),Object(s.jsx)(p.a,{exact:!0,path:"/pokebox/:id",children:Object(s.jsx)(y,{isOwnedPokemonDetail:!0})})]})})]})})}return Object(s.jsxs)("div",{children:[Object(s.jsx)(m,{}),Object(s.jsx)("div",{class:"text-center",children:"Loading.."})]})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,54)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),s(e),c(e),a(e),r(e)}))};i.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(C,{})}),document.getElementById("root")),T()}},[[53,1,2]]]);
//# sourceMappingURL=main.94ad415a.chunk.js.map